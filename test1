sm = 0
sn = 0
ssn = 0
sdsm = 0
sn = 0
nsm = 0
resm = 0
dia = 0
snewln = 0
mes = 0
lm = []
ln = []
newln = []
lmes = ['Dezembro', 'Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro']

m = int(input('m: '))
while m < 0 or m > 6:
    m = int(input('Tamanho inválido! Digite novamente o valor de m: '))
    
n = int(input('n: '))
while n < 0 or n > 11:
    n = int(input('Tamanho inválido! Digite novamente o valor de n: '))

def troca(ln, i, j):
    t = ln[i]
    ln[i] = ln[j]
    ln[j] = t

def seleciona(ln, num):
    x = 0
    for i in range(1, num):
        if ln[i] > ln[x]:
            x = i
    return x

def ordena(ln, num):
    for i in range(num, 0, -1):
        x = seleciona(ln, i)
        troca(ln, x, i-1)
        
for i in range(m):
    lm.append(int(input('m[' + str(i) + ']: ')))
    if lm[i] < 0 or lm[i] > 500:
        lm.append(int(input('Valor Incorreto! Digite novamente o m[' + str(i) + ']: ')))
    else:
        sm += lm[i]

for j in range(n):
    ln.append(int(input('n[' + str(j) + ']: ')))
    
nsm = sm
while nsm != 0:
    sdsm += nsm % 10
    nsm //= 10

resm = sdsm % 2
if resm == 0:
    ordena(ln, n)
    c = 1
    for y in range(n):
        newln.append(ln[y] * c)
        c += 1
        
    for z in newln:
        snewln += z
        
    if snewln % 31 == 0:
        dia = 31
    else:
        dia = snewln % 31
        
    mes = snewln % 12
    
    if mes == 2 and dia > 28:
        print('Código Corrompido!')
    elif (mes == 4 or mes == 6 or mes == 9 or mes == 11) and dia > 30:
        print('Código Corrompido!')
    else:
        print('Método A') 
        print('Invasão: ' + str(dia) + ' de ' + str(lmes[mes]))
else:
    c = 0
    cont = 1
    for w in range(n):
        newln.append(ln[w] + cont)
        c += 1
        cont += c
        
    u = 0
    nnew = len(newln)
    nd = 0
    while nnew != 0:
        while newln[u] != 0 and nd < 2:
            sn += newln[u] % 10
            newln[u] //= 10
            nd += 1
        u += 1
        nnew -= 1
        ssn += sn
        sn = 0
        nd = 0
        
    if ssn % 31 == 0:
        dia = 31
    else:
        dia = ssn % 31
        
    mes = ssn % 12
    
    if mes == 2 and dia > 28:
        print('Código Corrompido!')
    elif (mes == 4 or mes == 6 or mes == 9 or mes == 11) and dia > 30:
        print('Código Corrompido!')
    else:
        print('Método B') 
        print('Invasão: ' + str(dia) + ' de ' + str(lmes[mes]))
